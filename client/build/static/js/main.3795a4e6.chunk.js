(this.webpackJsonpmusicality=this.webpackJsonpmusicality||[]).push([[0],{55:function(e,t,n){},56:function(e,t,n){},88:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(35),a=n.n(r),s=(n(55),n(56),n(7)),i=n(8),l=n(1),j=function(){var e=Object(i.b)().loginWithRedirect;return Object(l.jsx)("button",{className:"login-btn auth-btn",onClick:function(){return e()},children:"Login"})},u=function(){var e=Object(i.b)().logout;return Object(l.jsx)("button",{className:"logout-btn auth-btn",onClick:function(){return e({returnTo:window.location.origin})},children:"Log Out"})},o=function(){return Object(i.b)().isAuthenticated?Object(l.jsx)(u,{}):Object(l.jsx)(j,{})},d=function(){var e=Object(i.b)().isAuthenticated;return Object(l.jsxs)("nav",{children:[Object(l.jsxs)("div",{className:"brand",children:[Object(l.jsx)(s.b,{to:"/",children:"Musicality"}),Object(l.jsx)("form",{className:"search-form",children:Object(l.jsx)("input",{type:"text",placeholder:"Search for independent music"})})]}),Object(l.jsxs)("ul",{children:[Object(l.jsx)("li",{children:Object(l.jsx)(s.b,{to:"/explore",children:"Explore"})}),e?Object(l.jsx)("li",{children:Object(l.jsx)(s.b,{to:"/profile",children:"Profile"})}):"",Object(l.jsx)("li",{children:Object(l.jsx)(o,{})})]})]})},b=n(4),O=n(13),h=n(6),p=n.n(h),x=n(16),f=n(18),m=n.n(f),v=m.a.create({baseURL:"api/"}),g=function(){var e=Object(x.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.post("/all/"+t,{artist:"",limit:10});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(x.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.post("/tracks",{allTracks:t,limit:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),k=function(){var e=Object(x.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.post("/api/playlist",{playlist:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(x.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.post("/api/user",{user:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(x.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.post("/api/feeds",{feedId:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=Object(c.createContext)(),S=function(e){var t=e.children,n=Object(c.useState)(""),r=Object(O.a)(n,2),a=r[0],s=r[1];return Object(l.jsx)(C.Provider,{value:{song:a,setSong:s},children:t})},I=function(e){var t=e.tracks,n=Object(c.useContext)(C),r=t.map((function(e){return Object(l.jsxs)("li",{className:"featured-item",children:[Object(l.jsx)("img",{src:e.album_image,alt:e.name,className:"featured-track-image"}),Object(l.jsx)("div",{className:"featured-overlay",onClick:function(){return n.setSong(e.audio)},children:Object(l.jsx)("p",{children:"Play"})}),Object(l.jsxs)("p",{children:[e.name," - ",Object(l.jsx)("strong",{children:e.artist_name})]})]},e.id)}));return Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{children:"Featured Tracks"}),Object(l.jsx)("ul",{className:"featured-tracks",children:r})]})},E=function(e){var t=e.playlists.map((function(e){return Object(l.jsx)("li",{children:Object(l.jsx)(s.b,{to:"playlist/".concat(e.id),children:e.name})},e.id)}));return Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{children:"Playlists"}),Object(l.jsx)("ul",{className:"featured-playlists",children:t})]})},P=n.p+"static/media/avatar.e9735a6e.png",F=function(e){var t=e.artists;console.log(t);var n=t.map((function(e){return Object(l.jsxs)("li",{className:"featured-item",children:[Object(l.jsx)("img",{src:e.image||P,alt:e.name,className:"featured-track-image"}),Object(l.jsx)(s.b,{to:"artist/".concat(e.id),children:e.name})]},e.id)}));return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h3",{children:"Featured Artists"}),Object(l.jsx)("ul",{className:"featured-tracks",children:n})]})},R=function(){var e=Object(c.useState)([]),t=Object(O.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),s=Object(O.a)(a,2),i=s[0],j=s[1],u=Object(c.useState)([]),o=Object(O.a)(u,2),d=o[0],b=o[1];return Object(c.useEffect)((function(){g("artist").then((function(e){b(e.data)})),g("albums").then((function(e){console.log("albums",e.data)})),g("playlists").then((function(e){j(e.data)})),y(!1,20).then((function(e){r(e.data)}))}),[]),Object(l.jsxs)("div",{className:"grid-layout",children:[Object(l.jsxs)("div",{className:"featured tracks-playlists",children:[Object(l.jsx)(I,{tracks:n}),Object(l.jsx)(E,{playlists:i})]}),Object(l.jsx)("div",{className:"featured artists-albums",children:Object(l.jsx)(F,{artists:d})})]})},A=function(){return Object(l.jsx)("header",{children:Object(l.jsx)("h1",{children:"Explore"})})},T=function(){var e=Object(i.b)().user;return console.log(e),Object(l.jsx)("header",{children:Object(l.jsx)("h1",{children:"Profile"})})},_=function(){var e=Object(c.useState)([]),t=Object(O.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),s=Object(O.a)(a,2),i=s[0],j=s[1],u=Object(c.useState)(""),o=Object(O.a)(u,2),d=o[0],h=o[1],f=Object(c.useState)([]),m=Object(O.a)(f,2),v=m[0],g=m[1],y=Object(b.g)();Object(c.useEffect)((function(){I()}),[]);var S=Object(c.useContext)(C),I=function(){var e=Object(x.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(y.playlistId).then((function(e){console.log(e.data),r(e.data[0].tracks),j(e.data[0].name),N(e.data[0].user_name).then((function(e){console.log(e.data),h(e.data[0])}))})),w(y.playlistId).then((function(e){g(e.data)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=n.map((function(e,t){return Object(l.jsx)("li",{children:Object(l.jsxs)("p",{children:[" ",t+1," ",Object(l.jsx)("img",{src:e.image,alt:e.artist_name})," ",e.name," ",Object(l.jsx)("i",{className:"far fa-play-circle",onClick:function(){return S.setSong(e.audio)}})]})},e.id)}));return Object(l.jsxs)("div",{className:"grid-layout",children:[Object(l.jsxs)("div",{className:"playlist-wrapper",children:[Object(l.jsxs)("div",{className:"playlist-meta",children:[Object(l.jsx)("h2",{children:i}),Object(l.jsx)("img",{src:d.image,alt:d.dispname}),Object(l.jsxs)("p",{children:["Created by: ",d.dispname]})]}),Object(l.jsx)("ul",{className:"track-list",children:E})]}),Object(l.jsxs)("aside",{className:"editorial-info",children:[Object(l.jsx)("h2",{children:"Editorial"}),v]})]})},L=function(){var e=Object(b.g)();return console.log(e),Object(l.jsx)("div",{})},J=n(48),M=(n(87),function(e){var t=e.url;return Object(l.jsx)("div",{className:"the-player",children:Object(l.jsx)(J.a,{autoPlay:!0,src:t})})}),U=n(49),Y=n(50),Z=n.p+"static/media/loading.5b5dc0a3.gif",q=function(){return Object(l.jsx)("div",{className:"loading-spinner",children:Object(l.jsx)("img",{src:Z,alt:"loading spinner"})})},z=["component"],B=function(e){var t=e.component,n=Object(Y.a)(e,z);return Object(l.jsx)(b.a,Object(U.a)({component:Object(i.c)(t,{onRedirecting:function(){return Object(l.jsx)(q,{})}})},n))};var H=function(){var e=Object(c.useContext)(C);return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(d,{}),Object(l.jsx)("div",{className:"wrapper",children:Object(l.jsxs)(b.c,{children:[Object(l.jsx)(b.a,{path:"/",exact:!0,component:R}),Object(l.jsx)(b.a,{path:"/explore",component:A}),Object(l.jsx)(B,{path:"/profile",component:T}),Object(l.jsx)(b.a,{path:"/playlist/:playlistId",children:Object(l.jsx)(_,{})}),Object(l.jsx)(b.a,{path:"/artist/:artist",children:Object(l.jsx)(L,{})})]})}),""===e.song?null:Object(l.jsx)(M,{url:e.song})]})},K=function(e){var t=e.children,n=Object(b.f)();return Object(l.jsx)(i.a,{domain:"tenkaklet.eu.auth0.com",clientId:"Hcqdxa1KA2naazdMEoc8C7RZFII9CYYZ",redirectUri:window.location.origin,onRedirectCallback:function(e){n.push((null===e||void 0===e?void 0:e.returnTo)||window.location.pathname)},children:t})};a.a.render(Object(l.jsx)(s.a,{children:Object(l.jsx)(K,{children:Object(l.jsx)(S,{children:Object(l.jsx)(H,{})})})}),document.getElementById("root"))}},[[88,1,2]]]);
//# sourceMappingURL=main.3795a4e6.chunk.js.map